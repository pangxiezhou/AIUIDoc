4.2 软核模式
------------

软核模式和\ :ref:`核心板模式 <coreboad-label>`\ 的结构是一样的，区别在于软核模式将AIUIService及其他Apk运行在开发者的硬件上（操作系统需要是Android）。

集成的时候AIUI只提供AIUI软件APK，所以称为软核模式。

4.2.1 适用
^^^^^^^^^^

AIUI软核方案对开发者的硬件设计和录音都有一定的要求：

* 加密芯片

  AIUI只有在有加密芯片的硬件上才能正常运行，所以开发者的定制硬件上需要有加密芯片。

* 录音

  AIUI录音没有使用默认的录音机，而是系统定制中的Alsa(Advanced Linux Sound Architecture)录音机，
  开发者集成软核方案时可以选择自己录音通过AIUI ServiceKit SDK写入原始音频，也可以修改系统支持Alsa。

具体的要求和对接开发事项请咨询\ :ref:`商务 <aiui_busines-label>`\ 。

4.2.2 麦克风阵列软核方案到AIUI软核方案
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

如果采用了麦克风阵列的软核方案，那迁移到AIUI软核方案就十分简单，因为上面提到的加密芯片和录音的要求均以达到。

按以下步骤集成：

1. 在开发集成评估时，将加密芯片替换为AIUI测试加密芯片，在测试完成量产时，再使用厂商特定AIUI加密芯片。
   
   不同加密芯片需要联系商务提供特定版本的AIUIServie apk。联系时请说明以下参数：

	* 几麦
	* 加密密钥挂载位置
	* 通道号是默认还是有其他需求

2. 修改AIUI配置文件中的\ ``alsa``\ 参数下的\ ``sound_card``\ 和\ ``simple_rate``\ 参数为麦克风软核阵列方案确定的录音参数。

3. 开发集成参考\ :ref:`核心板模式 <coreboad-label>`。



