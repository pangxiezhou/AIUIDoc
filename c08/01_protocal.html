

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.1 AIUI串口协议 &mdash; AIUI Doc 1023 文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../genindex.html"/>
        <link rel="search" title="搜索" href="../search.html"/>
    <link rel="top" title="AIUI Doc 1023 文档" href="../index.html"/>
        <link rel="up" title="8. 串口" href="../chapters/8_uart.html"/>
        <link rel="next" title="8.2 串口协议Android实现参考" href="02_uart_android.html"/>
        <link rel="prev" title="8. 串口" href="../chapters/8_uart.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> AIUI Doc
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chapters/01_desp.html">1. AIUI概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/02_demoboard.html">2. 评估板</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/03_prepare.html">3. 准备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/04_develop.html">4. 集成方式</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/05_wakeup_tts.html">5. 唤醒和合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/06_iat_nlp.html">6. AIUI结果</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/07_offline_cmd.html">7. 离线命令词识别</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/8_uart.html">8. 串口</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.1 AIUI串口协议</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">8.1.1 概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">8.1.2 通信接口及参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">8.1.3 消息格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">8.1.4 通信规则</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conmunicate-protocal-label">8.1.5 通信格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">8.1.6 确认消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wifi">8.1.7 WIFI配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">8.1.8 AIUI配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart-control-msg-label">8.1.9 主控消息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">8.1.9.1 AIUI控制</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">8.1.9.2 控制AIUI播放</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">8.1.9.3 WIFI状态查询</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">8.1.9.4 音频保存</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">8.1.9.5 文本合成</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uart-aiuimsg-label">8.1.10 AIUI消息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id15">8.1.10.1 WIFI状态</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">8.1.10.2 语义结果</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">8.1.10.3 合成</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02_uart_android.html">8.2 串口协议Android实现参考</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_custom.html">8.3 自定义数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_factorytest.html">8.4 串口工装测试</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/9_debug.html">9. AIUI调试</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">AIUI Doc</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../chapters/8_uart.html">8. 串口</a> &raquo;</li>
      
    <li>8.1 AIUI串口协议</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/c08/01_protocal.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="aiui">
<span id="uart-protocal-label"></span><h1>8.1 AIUI串口协议<a class="headerlink" href="#aiui" title="永久链接至标题">¶</a></h1>
<div class="section" id="id1">
<h2>8.1.1 概述<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<p>上位机和AIUI语音模块之间通过串口进行数据交互。
上位机可以通过串口向AIUI语音模块发送握手消息同步状态，发送WIFI配置信息，发送AIUI配置消息，发送控制消息控制AIUI状态。</p>
</div>
<div class="section" id="id2">
<h2>8.1.2 通信接口及参数<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<img alt="../_images/electric.png" src="../_images/electric.png" />
<ul class="simple">
<li>波特率：115200</li>
<li>数据位：8</li>
<li>停止位：1</li>
<li>奇偶校验：无</li>
<li>流控：无</li>
</ul>
</div>
<div class="section" id="id3">
<h2>8.1.3 消息格式<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="31%" />
<col width="47%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>字节</td>
<td>值</td>
<td>含义说明</td>
</tr>
<tr class="row-even"><td>0</td>
<td>0xA5</td>
<td>同步头</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>0x01</td>
<td>用户ID</td>
</tr>
<tr class="row-even"><td>2</td>
<td>0xXX</td>
<td>消息类型</td>
</tr>
<tr class="row-odd"><td>3~4</td>
<td>0xXXXX</td>
<td>消息数据长度</td>
</tr>
<tr class="row-even"><td>5~6</td>
<td>0xXXXX</td>
<td>消息ID</td>
</tr>
<tr class="row-odd"><td>7~n</td>
<td>消息数据</td>
<td>消息数据</td>
</tr>
<tr class="row-even"><td>n+1</td>
<td>0xXX</td>
<td>内部校验码</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h2>8.1.4 通信规则<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>双向通信，进行一问一答式通信；</li>
<li>不分主从机，双方都可向对方发送请求信息；</li>
<li>双方发送握手信号，确定与对方串口通信是否正常；在未接收到响应时，可以每隔100ms发送一次握手请求信号；</li>
<li>接收方接到请求后需在50ms内发送响应；</li>
<li>发送方发送完成后若超过300ms未得到响应则判定为超时进行重发，重发次数为3次。</li>
</ul>
</div>
<div class="section" id="conmunicate-protocal-label">
<span id="id5"></span><h2>8.1.5 通信格式<a class="headerlink" href="#conmunicate-protocal-label" title="永久链接至标题">¶</a></h2>
<p>通信格式目前定义了握手消息，AIUI配置消息，WIFI配置消息，AIUI消息，主控消息，确认消息。下面是分类详述：</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="9%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="0%" />
<col width="5%" />
<col width="1%" />
<col width="3%" />
<col width="3%" />
<col width="9%" />
<col width="6%" />
<col width="8%" />
<col width="6%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>分类</td>
<td>同步头</td>
<td>用户ID</td>
<td>消息类型</td>
<td>消息长度</td>
<td>消息ID</td>
<td colspan="9">消息数据</td>
<td>校检码</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td>7</td>
<td colspan="3">8</td>
<td colspan="2">9</td>
<td colspan="3">10</td>
<td>11</td>
</tr>
<tr class="row-odd"><td><strong>握手请求</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0x01</td>
<td>见附注</td>
<td>见附注</td>
<td>0xA5</td>
<td colspan="3">0x00</td>
<td colspan="2">0x00</td>
<td colspan="3">0x00</td>
<td>见附注</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td>7</td>
<td colspan="3">8</td>
<td colspan="2">9</td>
<td>10</td>
<td>11~m</td>
<td>m+1~n</td>
<td>n+1</td>
</tr>
<tr class="row-odd"><td><strong>WIFI配置</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0x02</td>
<td>同上</td>
<td>同上</td>
<td>状态</td>
<td colspan="3">加密方式</td>
<td colspan="2">SSID长度</td>
<td>passwd长度</td>
<td>SSID</td>
<td>passwd</td>
<td>同上</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td colspan="9">7~m</td>
<td>m+1</td>
</tr>
<tr class="row-odd"><td><strong>AIUI配置</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0x03</td>
<td>同上</td>
<td>同上</td>
<td colspan="9">AIUI配置</td>
<td>同上</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td colspan="9">7~m</td>
<td>m+1</td>
</tr>
<tr class="row-odd"><td><strong>AIUI消息</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0x04</td>
<td>同上</td>
<td>同上</td>
<td colspan="9">AIUI消息（gzip压缩）</td>
<td>同上</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td colspan="9">7~m</td>
<td>m+1</td>
</tr>
<tr class="row-odd"><td><strong>主控消息</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0x05</td>
<td>同上</td>
<td>同上</td>
<td colspan="9">主控消息</td>
<td>同上</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td colspan="9">7~m</td>
<td>m+1</td>
</tr>
<tr class="row-odd"><td><strong>自定义消息</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0x2A</td>
<td>同上</td>
<td>同上</td>
<td colspan="9">自定义数据</td>
<td>同上</td>
</tr>
<tr class="row-even"><td>字节</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3~4</td>
<td>5~6</td>
<td colspan="2">7</td>
<td>8</td>
<td colspan="2">9</td>
<td colspan="4">10</td>
<td>11</td>
</tr>
<tr class="row-odd"><td><strong>确认消息</strong></td>
<td>0xA5</td>
<td>0x01</td>
<td>0xff</td>
<td>同上</td>
<td>同上</td>
<td colspan="2">0xA5</td>
<td>0x00</td>
<td colspan="2">0x00</td>
<td colspan="4">0x00</td>
<td>同上</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt><strong>消息长度：</strong></dt>
<dd>数据格式中3~4字节为消息数据长度，消息长度编码为小端模式，即第3字节存储低字节，第4字节存储高字节。
如握手请求消息中消息数据有4字节，则消息长度为4，编码到3~4字节就是0x04 0x00</dd>
<dt><strong>消息ID：</strong></dt>
<dd>数据格式中5~6字节为消息ID，与消息长度类似，也是小端模式编码。
可以使用消息ID过滤因超时重发导致的重复消息。两字节长度的消息ID取值0-65535，所以在实际使用中需要循环使用，具体实现可以参考Android平台上 的源码实现。</dd>
<dt><strong>校检码：</strong></dt>
<dd><p class="first">数据格式中每种数据类型的最后一个字节都是校检码，用于检验串口传输的正确性。其计算方式为除校检码字节外所有字节求和取反并加1。公式如下:</p>
<div class="last highlight-java"><div class="highlight"><pre><span></span><span class="n">checkcode</span> <span class="o">=</span> <span class="o">~</span><span class="n">sum</span><span class="o">(</span><span class="n">字节0</span><span class="o">+</span><span class="n">字节2</span><span class="o">+...+</span><span class="n">字节n</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</dd>
<dt><strong>编码格式：</strong></dt>
<dd>消息中字符串类型的数据编码格式为UTF-8。
AIUI消息格式中的数据采用GZIP压缩格式，压缩前的编码格式也是UTF-8格式。</dd>
</dl>
</div>
<div class="section" id="id6">
<h2>8.1.6 确认消息<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>确认消息是一个特殊的消息类型，它是对其他类型消息的确认，它的消息ID与其要确认的消息的ID相同。
如一个AIUI消息的消息ID为0x9527，那对应的确认消息的消息ID也应该是0x9527。</p>
</div>
<div class="section" id="wifi">
<h2>8.1.7 WIFI配置<a class="headerlink" href="#wifi" title="永久链接至标题">¶</a></h2>
<p>WIFI配置结果中，状态取值：</p>
<ul class="simple">
<li>0：从机当前与路由连接</li>
</ul>
<p>加密方式分为三类：</p>
<ul class="simple">
<li>0：OPEN</li>
<li>1：WEP</li>
<li>2：WPA</li>
</ul>
</div>
<div class="section" id="id7">
<h2>8.1.8 AIUI配置<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>AIUI配置的格式为JSON。支持配置appid，key，场景，是否启动AIUIProductDemo（解析AIUI结果，进行播报的APP）。</p>
<p>配置appid，key，场景等示例如下:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
    <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;aiui_cfg&quot;</span><span class="o">,</span>
    <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;appid&quot;</span><span class="o">:</span> <span class="s">&quot;appid&quot;</span><span class="o">,</span>
        <span class="s">&quot;key&quot;</span><span class="o">:</span> <span class="s">&quot;key&quot;</span><span class="o">,</span>
        <span class="s">&quot;scene&quot;</span><span class="o">:</span> <span class="s">&quot;main&quot;</span><span class="o">,</span>
        <span class="s">&quot;launch_demo&quot;</span><span class="o">:</span> <span class="kc">false</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>注：配置项字段取值参见中<a class="reference internal" href="../c03/02_aiuicfg.html#aiui-cfg-label"><span class="std std-ref">AIUI配置</span></a>部分说明</p>
</div>
<div class="section" id="uart-control-msg-label">
<span id="id8"></span><h2>8.1.9 主控消息<a class="headerlink" href="#uart-control-msg-label" title="永久链接至标题">¶</a></h2>
<p>主控消息的格式为JSON。
主控消息根据内部字段type的不同，有不同的控制功能。</p>
<div class="section" id="id9">
<h3>8.1.9.1 AIUI控制<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<p>type为aiui_msg，发送AIUI控制消息:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
        <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;aiui_msg&quot;</span><span class="o">,</span>
        <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                <span class="s">&quot;msg_type&quot;</span><span class="o">:</span> <span class="mi">8</span><span class="o">,</span> <span class="c1">//CMD_RESET_WAKEUP  重置AIUI唤醒状态</span>
                <span class="s">&quot;arg1&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
                <span class="s">&quot;arg2&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
                <span class="s">&quot;params&quot;</span><span class="o">:</span> <span class="s">&quot;&quot;</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>注：各个字段取值具体说明参见<a class="reference internal" href="../c04/05_aiuimessage.html#aiuimessage-label"><span class="std std-ref">AIUIMessage类型</span></a>说明部分</p>
</div>
<div class="section" id="id10">
<h3>8.1.9.2 控制AIUI播放<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<p>type为voice，控制AIUI声音播放:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
        <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;voice&quot;</span><span class="o">,</span>
        <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                <span class="s">&quot;enable_voice&quot;</span><span class="o">:</span><span class="kc">true</span><span class="o">/</span><span class="kc">false</span>  <span class="c1">// 是否禁止AIUI声音播放</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>8.1.9.3 WIFI状态查询<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<p>type为status，通过query字段查询不同状态（目前仅支持查询WIFI状态）:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;status&quot;</span><span class="o">,</span>
  <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">&quot;query&quot;</span><span class="o">:</span> <span class="s">&quot;wifi&quot;</span> <span class="c1">// 查询AIUI WIFI状态信息</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3>8.1.9.4 音频保存<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h3>
<p>type为save_audio，控制AIUI保存原始音频，通过save_len指定保存音频时长，单位为秒:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;save_audio&quot;</span><span class="o">,</span>
  <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">&quot;save_len&quot;</span><span class="o">:</span> <span class="mi">10</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>8.1.9.5 文本合成<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h3>
<p>type为tts，发送文本让AIUI开始合成播放或者停止合成播放:</p>
<blockquote>
<div><ul>
<li><p class="first">开始合成命令:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
        <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;tts&quot;</span><span class="o">,</span>
        <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                <span class="s">&quot;action&quot;</span><span class="o">:</span> <span class="s">&quot;start&quot;</span><span class="o">,</span>  <span class="c1">//开始合成</span>
                <span class="s">&quot;text&quot;</span><span class="o">:</span> <span class="s">&quot;xxx&quot;</span>       <span class="c1">//需要合成播放的文本</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</li>
<li><p class="first">停止合成命令:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
        <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;tts&quot;</span><span class="o">,</span>
        <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                <span class="s">&quot;action&quot;</span><span class="o">:</span> <span class="s">&quot;stop&quot;</span><span class="o">,</span>  <span class="c1">//停止合成</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="uart-aiuimsg-label">
<span id="id14"></span><h2>8.1.10 AIUI消息<a class="headerlink" href="#uart-aiuimsg-label" title="永久链接至标题">¶</a></h2>
<p>AIUI消息原始内容格式为JSON，但是为了传输的效率，实际内容采用了GZIP压缩格式。</p>
<p>AIUI消息根据type的不同，解析不同的数据。</p>
<div class="section" id="id15">
<h3>8.1.10.1 WIFI状态<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h3>
<p>type为wifi_status，代表WIFI状态查询返回，示例如下:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
         <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;wifi_status&quot;</span><span class="o">,</span>
         <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                 <span class="s">&quot;connected&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="o">/</span><span class="kc">false</span><span class="o">,</span>  <span class="c1">//AIUI WIFI查询状态信息</span>
                 <span class="s">&quot;ssid&quot;</span><span class="o">:</span> <span class="s">&quot;connected_ssid&quot;</span>  <span class="c1">//当connected为true时，此字段表示当前连接的wifi名称</span>
         <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h3>8.1.10.2 语义结果<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h3>
<p>type为aiui_event，代表为AIUI语义结果返回，总体结构示例:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
         <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;aiui_event&quot;</span><span class="o">,</span>
         <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                 <span class="s">&quot;eventType&quot;</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span>  <span class="c1">//事件类型</span>
                 <span class="s">&quot;arg1&quot;</span><span class="o">:</span><span class="mi">0</span><span class="o">,</span>       <span class="c1">//参数1</span>
                 <span class="s">&quot;arg2&quot;</span><span class="o">:</span><span class="mi">0</span><span class="o">,</span>       <span class="c1">//参数2</span>
                 <span class="s">&quot;info&quot;</span><span class="o">:{},</span>      <span class="c1">//描述信息</span>
                 <span class="s">&quot;result&quot;</span><span class="o">:{}</span>     <span class="c1">//结果</span>
         <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>注：具体字段参考<a class="reference internal" href="../c04/06_aiuievent.html#aiuievent-label"><span class="std std-ref">AIUIEvent类型</span></a>说明部分。</p>
</div>
<div class="section" id="id17">
<h3>8.1.10.3 合成<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h3>
<p>type为tts_event，表示合成事件:</p>
<blockquote>
<div><ul>
<li><p class="first">合成开始事件:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
        <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;tts_event&quot;</span><span class="o">,</span>
        <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                <span class="s">&quot;eventType&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> <span class="c1">// 合成开始事件</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</li>
<li><p class="first">合成结束事件:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
        <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;tts_event&quot;</span><span class="o">,</span>
        <span class="s">&quot;content&quot;</span><span class="o">:</span> <span class="o">{</span>
                <span class="s">&quot;eventType&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span>        <span class="c1">//合成结束事件</span>
                <span class="s">&quot;error&quot;</span><span class="o">:</span> <span class="n">ttsErrorCode</span>  <span class="c1">//当发生错误时error字段代表合成错误码</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02_uart_android.html" class="btn btn-neutral float-right" title="8.2 串口协议Android实现参考" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../chapters/8_uart.html" class="btn btn-neutral" title="8. 串口" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 2016, AIUI.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1023',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>